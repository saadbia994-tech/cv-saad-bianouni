<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="market" />
    <meta name="keywords" content="sut" />
    <meta name="author" content="saad" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ูุงุฆูุฉ ุงูููุงู</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body class="bg-info text-center">
    <div class="container mt-5">
      <div class="row w-100">
        <h1 class="text-primary">๐ ูุงุฆูุฉ ุงูููุงู</h1>
        <button  style="font-size: 30px;"  onclick="window.location.href='index.html'">
                            
                                 ุงูุนูุฏุฉ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ
                            
                           </button>
      </div>

      <div class="row mx-auto w-50">
        <div class="col">
          <div class="card text-center pt-5 pb-5">
            <h3>ุงููููุฉ</h3>

            <input
              id="inputtex"
              class="w-75 h-100 mt-3 text-center mx-auto"
              type="text"
              placeholder="ุงุฏุฎู ุงููููุฉ"
            />

            <textarea
              class="mt-3 w-75 h-100 mx-auto"
              id="inputtex2"
              placeholder="ุงููุตู (ุงุฎุชูุงุฑู)"
            ></textarea>

            <input
              id="inputdate"
              class="w-75 h-100 mt-3 text-center mx-auto"
              type="date"
            />

            <select
              id="selectjob"
              class="form-select text-center mt-3 w-75 h-100 mx-auto"
              aria-label="Default select example"
            >
              <option selected>ููุน ุงููููุฉ</option>
              <option value="ุนูู">ุนูู</option>
              <option value="ุชุฑููู">ุชุฑููู</option>
              <option value="ุนุงุฆูู">ุนุงุฆูู</option>
              <option value="ุตุญู">ุตุญู</option>
            </select>

            <select
              id="select123"
              class="form-select text-center mt-3 w-75 h-100 mx-auto"
              aria-label="Default select example"
            >
              <option selected>ุฏุฑุฌุฉ ุงูุงูููุฉ</option>
              <option value="ุนุงุฌู">ุนุงุฌู</option>
              <option value="ูุณุท">ูุณุท</option>
              <option value="ุบูุฑ ุนุงุฌู">ุบูุฑ ุนุงุฌู</option>
            </select>

            <button
              onclick="add()"
              id="buttonadd"
              type=""
              class="btn btn-light h-100 mt-3 w-50 mx-auto bg-info"
            >
              ุงุถุงูุฉ
            </button>

            <select
              onclick="tam();"
              id="selecttam"
              class="form-select text-center mt-5 w-75 h-100 mx-auto"
              aria-label="Default select example"
            >
              <option selected>ุฌููุน ุงูููุงู</option>
              <option value="ุงูููุงู ุงูููุชููุฉ">ุงูููุงู ุงูููุชููุฉ</option>
            </select>

            <button
              onclick="sort()"
              id="buttondate"
              type=""
              class="btn btn-light h-100 mt-3 w-50 mx-auto bg-info"
            >
              ุชุฑุชูุจ ุญุณุจ ุงูุฒูู
            </button>
          </div>
        </div>
      </div>
      <div class="row bg-light w-75 mt-5 mx-auto">
        <div id="" class="mt-3 col-6">
          <h3>ููุงู ุนูู</h3>

          <table class="table">
            <thead>
              <tr>
                <th scope="col">ุงููููุฉ</th>
                <th scope="col">ุงููุตู</th>
                <th scope="col">ุงูุชุงุฑูุฎ</th>
                <th scope="col">ุฏุฑุฌุฉ ุงูุงูููุฉ</th>
                <th scope="col">ุงูุญุฐู</th>
              </tr>
            </thead>
            <tbody id="table11" class="table-group-divider"></tbody>
          </table>
        </div>

        <div id="" class="mt-3 col-6 mb-5">
          <h3>ููุงู ุชุฑููู</h3>

          <table class="table">
            <thead>
              <tr>
                <th scope="col">ุงููููุฉ</th>
                <th scope="col">ุงููุตู</th>
                <th scope="col">ุงูุชุงุฑูุฎ</th>
                <th scope="col">ุฏุฑุฌุฉ ุงูุงูููุฉ</th>
                <th scope="col">ุงูุญุฐู</th>
              </tr>
            </thead>
            <tbody id="table12" class="table-group-divider"></tbody>
          </table>
        </div>

        <div id="" class="mt-5 col-6">
          <h3>ููุงู ุนุงุฆูู</h3>

          <table class="table">
            <thead>
              <tr>
                <th scope="col">ุงููููุฉ</th>
                <th scope="col">ุงููุตู</th>
                <th scope="col">ุงูุชุงุฑูุฎ</th>
                <th scope="col">ุฏุฑุฌุฉ ุงูุงูููุฉ</th>
                <th scope="col">ุงูุญุฐู</th>
              </tr>
            </thead>
            <tbody id="table13" class="table-group-divider"></tbody>
          </table>
        </div>

        <div id="" class="mt-5 col-6">
          <h3>ููุงู ุตุญู</h3>

          <table class="table">
            <thead>
              <tr>
                <th scope="col">ุงููููุฉ</th>
                <th scope="col">ุงููุตู</th>
                <th scope="col">ุงูุชุงุฑูุฎ</th>
                <th scope="col">ุฏุฑุฌุฉ ุงูุงูููุฉ</th>
                <th scope="col">ุงูุญุฐู</th>
              </tr>
            </thead>
            <tbody id="table14" class="table-group-divider"></tbody>
          </table>
        </div>
      </div>
    </div>

    <script src="	https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>

    <script>
      let inputtex = document.getElementById("inputtex");
      let inputtex2 = document.getElementById("inputtex2");
      let inputdate = document.getElementById("inputdate");
      let selectjob = document.getElementById("selectjob");
      let select123 = document.getElementById("select123");
      let buttonadd = document.getElementById("buttonadd");
      let selecttam = document.getElementById("selecttam");
      let buttondate = document.getElementById("buttondate");
      let checkboxdata = document.getElementById("checkboxdata");
      let arr;
      let tmp;
      let currentSort = "priority";

      if (localStorage.t != null) {
        arr = JSON.parse(localStorage.t);
      } else {
        arr = [];
      }

      function add() {
        let objdata = {
          tex: inputtex.value,
          tex2: inputtex2.value,
          inpdata: inputdate.value,
          seljob: selectjob.value,
          sel123: select123.value,
         completed: false,
        };
        arr.push(objdata);
         currentSort = "priority";
        localStorage.setItem("t", JSON.stringify(arr));
        showdata();
        cleardata();
      }

      function cleardata() {
        inputtex.value = "";
        inputtex2.value = "";
        inputdate.value = "";
        selectjob.selectedIndex = 0;
        select123.selectedIndex = 0;
      }

      function showdata() {
         
  let table11 = "";
  let table12 = "";
  let table13 = "";
  let table14 = "";

  const priorityOrder = { "ุนุงุฌู": 1, "ูุณุท": 2, "ุบูุฑ ุนุงุฌู": 3 };
  if (currentSort === "priority") {
    arr.sort((a, b) => priorityOrder[a.sel123] - priorityOrder[b.sel123]);
  } else if (currentSort === "date") {
    arr.sort((a, b) => new Date(a.inpdata) - new Date(b.inpdata));
  }
  for (let i = 0; i < arr.length; i++) {
    let row = `
      <tr>
        <td>${arr[i].tex}</td>
        <td>${arr[i].tex2}</td>
        <td>${arr[i].inpdata}</td>
        <td>${arr[i].sel123}</td>
        <td><button onclick="deletdata(${i})" type="button" class="btn btn-light h-100 w-100">ุงูุญุฐู</button></td>
        <td><input type="checkbox" class="checkboxdata"></td>
      </tr>
    `;

    switch (arr[i].seljob) {
      case "ุนูู":
        table11 += row;
        break;
      case "ุชุฑููู":
        table12 += row;
        break;
      case "ุนุงุฆูู":
        table13 += row;
        break;
      case "ุตุญู":
        table14 += row;
        break;
    }
  }

  document.getElementById("table11").innerHTML = table11;
  document.getElementById("table12").innerHTML = table12;
  document.getElementById("table13").innerHTML = table13;
  document.getElementById("table14").innerHTML = table14;
}
      function deletdata(i) {
        arr.splice(i, 1);
        localStorage.setItem("t", JSON.stringify(arr));

        showdata();
      }
      showdata();

 function sort() {
 if (currentSort === "priority") {
    currentSort = "date";
  } else {
    currentSort = "priority";
  }
  showdata();
}



      function tam() {
        const allTasks = document.querySelectorAll("tbody tr");
        const selectedOption = selecttam.value;

        if (selectedOption === "ุงูููุงู ุงูููุชููุฉ") {
          allTasks.forEach((row) => {
            const checkbox = row.querySelector(".checkboxdata");
            if (checkbox && !checkbox.checked) {
              row.style.display = "none";
            } else {
              row.style.display = "";
            }
          });
        } else {
          // ุนุฑุถ ุฌููุน ุงูููุงู
          allTasks.forEach((row) => {
            row.style.display = "";
          });
        }
      }
    </script>
  </body>
</html>
